[{"C:\\Users\\laksh\\Desktop\\work\\technokidz\\attendance\\src\\components\\students.js":"1","C:\\Users\\laksh\\Desktop\\work\\technokidz\\attendance\\src\\context\\UserContext.js":"2","C:\\Users\\laksh\\Desktop\\work\\technokidz\\attendance\\src\\components\\list.js":"3"},{"size":1853,"mtime":1610540656114,"results":"4","hashOfConfig":"5"},{"size":83,"mtime":1610489313778,"results":"6","hashOfConfig":"5"},{"size":274,"mtime":1610540213371,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"10"},"ytt0sv",{"filePath":"11","messages":"12","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\laksh\\Desktop\\work\\technokidz\\attendance\\src\\components\\students.js",["16","17","18","19","20"],"import React, { useEffect, useState, useContext } from \"react\";\r\nimport backend from \"../apis/index\";\r\nimport UserContext from \"../context/UserContext\";\r\n\r\nconst List = () => {\r\n  const [attendance, setAttendance] = useState(\"\");\r\n  const [list, setList] = useState([]);\r\n\r\n  const token = localStorage.getItem(\"auth-token\");\r\n  const userId = localStorage.getItem(\"userId\");\r\n  const role = localStorage.getItem(\"role\");\r\n\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      // var data = JSON.stringify({ id: userId });\r\n      // console.log(data);\r\n      if (token) {\r\n        backend.defaults.headers.common[\"auth-token\"] = token;\r\n      } else {\r\n        delete backend.defaults.headers.common[\"auth-token\"];\r\n      }\r\n      try {\r\n        const response = await backend.post(\"/api/user/\", {\r\n          headers: {\r\n            \"auth-token\": token,\r\n          },\r\n          userId,\r\n        });\r\n        localStorage.setItem(\"role\", response.data.role);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    getUser();\r\n  }, []);\r\n\r\n  // return response.data.map((data) => {});\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(role);\r\n    try {\r\n      const response = await backend.post(\"/api/attendance/students\", {\r\n        headers: {\r\n          \"auth-token\": token,\r\n        },\r\n        role,\r\n      });\r\n      setList(response.data.map((data) => [data.name]));\r\n    } catch (err) {\r\n      console.log(err);\r\n      // window.alert(err.response.data);\r\n    }\r\n  };\r\n\r\n  const listItems = list.map((list) => <li>{list}</li>);\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <h3>print a list of students</h3>\r\n        <button onClick={submit}>Get the list of students</button>\r\n        <ul>{listItems}</ul>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","C:\\Users\\laksh\\Desktop\\work\\technokidz\\attendance\\src\\context\\UserContext.js",["21"],"import React, {createContext} from \"react\";\n\nexport default createContext(\"null\");\n","C:\\Users\\laksh\\Desktop\\work\\technokidz\\attendance\\src\\components\\list.js",[],{"ruleId":"22","severity":1,"message":"23","line":1,"column":38,"nodeType":"24","messageId":"25","endLine":1,"endColumn":48},{"ruleId":"22","severity":1,"message":"26","line":3,"column":8,"nodeType":"24","messageId":"25","endLine":3,"endColumn":19},{"ruleId":"22","severity":1,"message":"27","line":6,"column":10,"nodeType":"24","messageId":"25","endLine":6,"endColumn":20},{"ruleId":"22","severity":1,"message":"28","line":6,"column":22,"nodeType":"24","messageId":"25","endLine":6,"endColumn":35},{"ruleId":"29","severity":1,"message":"30","line":35,"column":6,"nodeType":"31","endLine":35,"endColumn":8,"suggestions":"32"},{"ruleId":"22","severity":1,"message":"33","line":1,"column":8,"nodeType":"24","messageId":"25","endLine":1,"endColumn":13},"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'UserContext' is defined but never used.","'attendance' is assigned a value but never used.","'setAttendance' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'token' and 'userId'. Either include them or remove the dependency array.","ArrayExpression",["34"],"'React' is defined but never used.",{"desc":"35","fix":"36"},"Update the dependencies array to be: [token, userId]",{"range":"37","text":"38"},[1062,1064],"[token, userId]"]